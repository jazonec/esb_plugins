## Плагин для реализации обработки и возвращения в шину сообщений (рефлекторы)

### Настройки
Настройки реализованы через json-объект. Схемы для формирования json размещаются внутри zip-архива плагина.

### Рефлекторы
#### blackHole (черная дыра)
Сообщения указанного в настройках типа или класса помечаются как обработанные. Никаких действий не выполняется.
Используется для удаления невостребованных сообщений
#### multiply (умножитель)
Сообщения указанного в настройках типа или класса возвращаются в шину с копированием. Количество возвращаемых сообщений указывается в настройках. Тип сообщения будет дополнен строкой "_reflect_N", где N - номер копии.
#### changed (контроль измененных)
Осуществляется проверка изменения объекта, находящегося внутри сообщения. Если объект не изменен, он удаляется. Иначе - возвращается в шину. Сообщение должно содержать свойство ***id***.  
Контроль изменений осуществляется с помощью проверки вычисления хеш-функции текста сообщения. Способ хранения хэш-значений выбирается в настройках, доступны варианты memcached, redis, mongodb
#### encryptor (шифратор)
Позволяет зашифровать поступившее сообщение и вернуть в шину зашифрованное.  
Можно указать возможность создания рандомного ключа, шифрования ключа RSA-алгоритмом (требуется в настройках указать данные ключа)
#### decryptor (дешифратор)
Позволяет расшифровать сообщение, зашифрованное способом, аналогичным encryptor
#### batch (упакователь)
Не реализовано
#### unbatch (распакователь)
К сообщениям указанного в настройках типа или класса применяется regex-выражение, указанное в настройках. В случае, если имеется результат, в шину будут отправлены сообщения, содержащие подходящий текст.
Пример:
- сообщение представляет из себя xml-массив с элементами
```xml
<notes>
	<note>
		<text>some text 1</text>
	</note>
	<note>
		<text>some text 2</text>
	</note>
</notes>
```
- в настройках указано выражение ```"(<note>.*?<\/note>)"```
В результате обработки сообщения в шину будет отправлено 2 сообщения. Каждое сообщение будет содержать элеменет массива.  
  
Сообщение 1:
```xml
<note>
	<text>some text 1</text>
</note>
```
Сообщение 2:
```xml
<note>
	<text>some text 2</text>
</note>
```
